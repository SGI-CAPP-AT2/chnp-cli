{"path":"D:\\DEV\\chnp-cli\\test\\test_assets","version":1,"date":1733233667794,"title":"1733233667794","codes":[{"title":"shgi.py","filename":"app.py","output":"HELLO WORLD\r\n","rtf":"","watermark":"ShGI","rtfBool":false,"code":"print(\"HELLO WORLD\")","time":1733233774126},{"__cns":{"pb":true},"title":"app.py","filename":"app.py","output":"HELLO WORLD\r\n","rtf":"","watermark":"ShGI","rtfBool":false,"code":"print(\"HELLO WORLD\")","time":1733234020541},{"title":"MiniProject.py","filename":"MiniProject.py","output":"\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: 1\r\nEnter a username: someoneRegistered\r\nEnter a password: somone@birth\r\nUser someoneRegistered registered successfully!\r\n\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: 2\r\nEnter your username: someoneRegistered\r\nEnter your password: somone@birth\r\nLogin successful! Welcome, someoneRegistered\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: someoneRegistered\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 1\r\nEnter the receiver's username: someone\r\nEnter your message: Hey\r\nMessage sent to someone!\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 3\r\n\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: 2\r\nEnter your username: someone\r\nEnter your password: someone@birthday\r\nLogin successful! Welcome, someone\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 2\r\nMessages:\r\n[2024-10-13 16:02:35] someoneRegistered: Hey\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 1\r\nEnter the receiver's username: someoneRegistered\r\nEnter your message: Hey Hello\r\nMessage sent to someoneRegistered!\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 2\r\nMessages:\r\n[2024-10-13 16:02:35] someoneRegistered: Hey\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 3\r\n\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: someoneRegistered\r\n\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: 2\r\nEnter your username: someoneRegistered\r\nEnter your password: somone@birth\r\nLogin successful! Welcome, someoneRegistered\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 2\r\nMessages:\r\n[2024-10-13 16:03:34] someone: Hey Hello\r\n\r\n1. Send Message\r\n2. View Messages\r\n3. Logout\r\nEnter your choice: 3\r\n\r\n--- Chat App ---\r\n1. Register\r\n2. Login\r\n3. Exit\r\nEnter your choice: 3\r\nExiting...\r\n","rtf":"","watermark":"","rtfBool":false,"code":"import sqlite3\r\n\r\n# Setup the database\r\ndef setup_database():\r\n    conn = sqlite3.connect('chatapp.db')\r\n    cursor = conn.cursor()\r\n\r\n    # Create users table\r\n    cursor.execute('''\r\n    CREATE TABLE IF NOT EXISTS users (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        username TEXT UNIQUE NOT NULL,\r\n        password TEXT NOT NULL\r\n    )\r\n    ''')\r\n\r\n    # Create messages table\r\n    cursor.execute('''\r\n    CREATE TABLE IF NOT EXISTS messages (\r\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        sender TEXT NOT NULL,\r\n        receiver TEXT NOT NULL,\r\n        message TEXT NOT NULL,\r\n        timestamp DATETIME DEFAULT CURRENT_TIMESTAMP\r\n    )\r\n    ''')\r\n\r\n    conn.commit()\r\n    conn.close()\r\n\r\n# User registration\r\ndef register_user(username, password):\r\n    conn = sqlite3.connect('chatapp.db')\r\n    cursor = conn.cursor()\r\n\r\n    try:\r\n        cursor.execute('INSERT INTO users (username, password) VALUES (?, ?)', (username, password))\r\n        conn.commit()\r\n        print(f\"User {username} registered successfully!\")\r\n    except sqlite3.IntegrityError:\r\n        print(\"Username already exists!\")\r\n    \r\n    conn.close()\r\n\r\n# User login\r\ndef login_user(username, password):\r\n    conn = sqlite3.connect('chatapp.db')\r\n    cursor = conn.cursor()\r\n\r\n    cursor.execute('SELECT * FROM users WHERE username = ? AND password = ?', (username, password))\r\n    user = cursor.fetchone()\r\n\r\n    conn.close()\r\n\r\n    if user:\r\n        print(f\"Login successful! Welcome, {username}\")\r\n        return True\r\n    else:\r\n        print(\"Invalid username or password.\")\r\n        return False\r\n\r\n# Send a message\r\ndef send_message(sender, receiver, message):\r\n    conn = sqlite3.connect('chatapp.db')\r\n    cursor = conn.cursor()\r\n\r\n    cursor.execute('INSERT INTO messages (sender, receiver, message) VALUES (?, ?, ?)', (sender, receiver, message))\r\n    conn.commit()\r\n    print(f\"Message sent to {receiver}!\")\r\n\r\n    conn.close()\r\n\r\n# View received messages\r\ndef receive_messages(username):\r\n    conn = sqlite3.connect('chatapp.db')\r\n    cursor = conn.cursor()\r\n\r\n    cursor.execute('SELECT sender, message, timestamp FROM messages WHERE receiver = ? ORDER BY timestamp', (username,))\r\n    messages = cursor.fetchall()\r\n\r\n    conn.close()\r\n\r\n    if messages:\r\n        print(\"Messages:\")\r\n        for msg in messages:\r\n            print(f\"[{msg[2]}] {msg[0]}: {msg[1]}\")\r\n    else:\r\n        print(\"No new messages.\")\r\n\r\n# Main chat app function\r\ndef main():\r\n    setup_database()\r\n\r\n    while True:\r\n        print(\"\\n--- Chat App ---\")\r\n        print(\"1. Register\")\r\n        print(\"2. Login\")\r\n        print(\"3. Exit\")\r\n        choice = input(\"Enter your choice: \")\r\n\r\n        if choice == '1':\r\n            username = input(\"Enter a username: \")\r\n            password = input(\"Enter a password: \")\r\n            register_user(username, password)\r\n\r\n        elif choice == '2':\r\n            username = input(\"Enter your username: \")\r\n            password = input(\"Enter your password: \")\r\n            if login_user(username, password):\r\n                while True:\r\n                    print(\"\\n1. Send Message\")\r\n                    print(\"2. View Messages\")\r\n                    print(\"3. Logout\")\r\n                    choice = input(\"Enter your choice: \")\r\n\r\n                    if choice == '1':\r\n                        receiver = input(\"Enter the receiver's username: \")\r\n                        message = input(\"Enter your message: \")\r\n                        send_message(username, receiver, message)\r\n\r\n                    elif choice == '2':\r\n                        receive_messages(username)\r\n\r\n                    elif choice == '3':\r\n                        break\r\n\r\n        elif choice == '3':\r\n            print(\"Exiting...\")\r\n            break\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n","time":1728835450590}],"theme":{"name":"Notebook","className":"ntb"},"font":{"title":"Open Sans (Designed by Steve Matteson) ~ fonts.google.com","className":"open-sans-google-fonts","css":"Open Sans"},"filenameWhileAdding":"$1.py","commandsBatch":["py $1.py",""],"watermark":"ShGI"}